<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Broker Selection - RationalMarkets</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        .broker-card {
            transition: all 0.4s ease;
            border-radius: 15px;
            overflow: hidden;
            position: relative;
        }
        .broker-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
        }
        .broker-card.selected {
            border: 3px solid #007bff;
            transform: scale(1.02);
            box-shadow: 0 10px 30px rgba(0,123,255,0.3);
        }
        .broker-logo {
            height: 60px;
            object-fit: contain;
            margin-bottom: 1rem;
        }
        .feature-check {
            color: #28a745;
            margin-right: 0.5rem;
        }
        .feature-cross {
            color: #dc3545;
            margin-right: 0.5rem;
        }
        .comparison-table {
            background: white;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        .region-badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 15px;
            font-size: 0.8rem;
            margin: 0.2rem;
        }
        .region-us { background: #e3f2fd; color: #1976d2; }
        .region-eu { background: #f3e5f5; color: #7b1fa2; }
        .region-global { background: #e8f5e9; color: #388e3c; }
        .api-demo {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 15px;
            padding: 2rem;
            margin: 2rem 0;
        }
        .connection-status {
            display: flex;
            align-items: center;
            padding: 1rem;
            border-radius: 10px;
            margin: 1rem 0;
        }
        .status-connected {
            background: linear-gradient(135deg, #4caf50, #45a049);
            color: white;
        }
        .status-demo {
            background: linear-gradient(135deg, #ff9800, #f57c00);
            color: white;
        }
        .pulse {
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.7; }
            100% { opacity: 1; }
        }
        .setup-steps {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 1.5rem;
            margin: 1rem 0;
        }
        .step-number {
            background: #007bff;
            color: white;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 1rem;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary shadow">
        <div class="container">
            <a class="navbar-brand fw-bold" href="index.html">
                <i class="fas fa-robot me-2"></i>RationalMarkets
            </a>
            <div class="navbar-nav ms-auto">
                <a class="nav-link" href="index.html">
                    <i class="fas fa-home me-1"></i>Home
                </a>
                <a class="nav-link" href="strategy-enhanced.html">
                    <i class="fas fa-chart-line me-1"></i>AI Strategy
                </a>
                <a class="nav-link active" href="#" style="color: #ffd700;">
                    <i class="fas fa-handshake me-1"></i>Brokers
                </a>
            </div>
        </div>
    </nav>

    <!-- Header -->
    <section class="bg-primary text-white py-5">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-8">
                    <h1 class="display-5 fw-bold mb-3">
                        <i class="fas fa-handshake me-3"></i>Choose Your Broker
                    </h1>
                    <p class="lead mb-4">
                        Select your preferred trading platform to begin hands-on learning with real market connections.
                        Both brokers offer educational demo environments perfect for learning.
                    </p>
                    <div class="row text-center">
                        <div class="col-md-4">
                            <h3 class="text-warning">2</h3>
                            <small>Supported Brokers</small>
                        </div>
                        <div class="col-md-4">
                            <h3 class="text-success">100%</h3>
                            <small>Demo Mode</small>
                        </div>
                        <div class="col-md-4">
                            <h3 class="text-info">Global</h3>
                            <small>Market Access</small>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 text-center">
                    <div class="bg-white bg-opacity-10 rounded-3 p-4">
                        <i class="fas fa-globe fa-4x mb-3"></i>
                        <h5>Global Trading</h5>
                        <p class="small">Access US, European, and Asian markets</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Broker Selection -->
    <section class="py-5">
        <div class="container">
            <div class="row">
                <!-- Alpaca Markets -->
                <div class="col-lg-6 mb-4">
                    <div class="card broker-card h-100" id="alpaca-card" onclick="selectBroker('alpaca')">
                        <div class="card-header bg-primary text-white text-center">
                            <img src="https://alpaca.markets/static/images/alpaca-logo-white.svg" alt="Alpaca Markets" class="broker-logo">
                            <h4 class="mb-0">Alpaca Markets</h4>
                            <p class="mb-0 small">Commission-Free US Trading</p>
                        </div>
                        <div class="card-body">
                            <div class="mb-3">
                                <span class="region-badge region-us">üá∫üá∏ US Primary</span>
                                <span class="region-badge region-global">üåç Global Access</span>
                            </div>
                            
                            <h6 class="fw-bold mb-3">Key Features:</h6>
                            <ul class="list-unstyled">
                                <li><i class="fas fa-check feature-check"></i>Commission-free stock trading</li>
                                <li><i class="fas fa-check feature-check"></i>Fractional shares available</li>
                                <li><i class="fas fa-check feature-check"></i>Paper trading for education</li>
                                <li><i class="fas fa-check feature-check"></i>REST & WebSocket APIs</li>
                                <li><i class="fas fa-check feature-check"></i>Real-time market data</li>
                                <li><i class="fas fa-times feature-cross"></i>US stocks & ETFs only</li>
                            </ul>

                            <h6 class="fw-bold mb-3">Best For:</h6>
                            <p class="small text-muted">
                                US investors and global users focusing on US-listed securities. 
                                Perfect for beginners with paper trading and fractional shares.
                            </p>

                            <div class="mt-3">
                                <div class="d-flex justify-content-between">
                                    <span class="small">Setup Difficulty:</span>
                                    <span class="text-success">Easy</span>
                                </div>
                                <div class="d-flex justify-content-between">
                                    <span class="small">Account Minimum:</span>
                                    <span class="text-success">$0</span>
                                </div>
                                <div class="d-flex justify-content-between">
                                    <span class="small">API Access:</span>
                                    <span class="text-success">Free</span>
                                </div>
                            </div>
                        </div>
                        <div class="card-footer text-center">
                            <button class="btn btn-primary btn-lg w-100" onclick="connectBroker('alpaca')">
                                <i class="fas fa-plug me-2"></i>Connect to Alpaca
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Swissquote -->
                <div class="col-lg-6 mb-4">
                    <div class="card broker-card h-100" id="swissquote-card" onclick="selectBroker('swissquote')">
                        <div class="card-header bg-success text-white text-center">
                            <div class="d-flex align-items-center justify-content-center mb-2">
                                <i class="fas fa-mountain fa-3x me-2"></i>
                                <div>
                                    <h4 class="mb-0">Swissquote</h4>
                                    <p class="mb-0 small">Swiss Banking Excellence</p>
                                </div>
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="mb-3">
                                <span class="region-badge region-eu">üá™üá∫ EU Primary</span>
                                <span class="region-badge region-global">üåç Global Markets</span>
                            </div>
                            
                            <h6 class="fw-bold mb-3">Key Features:</h6>
                            <ul class="list-unstyled">
                                <li><i class="fas fa-check feature-check"></i>Global market access</li>
                                <li><i class="fas fa-check feature-check"></i>Multi-currency trading</li>
                                <li><i class="fas fa-check feature-check"></i>Professional tools</li>
                                <li><i class="fas fa-check feature-check"></i>Swiss regulation</li>
                                <li><i class="fas fa-check feature-check"></i>Advanced order types</li>
                                <li><i class="fas fa-times feature-cross"></i>Higher minimum deposit</li>
                            </ul>

                            <h6 class="fw-bold mb-3">Best For:</h6>
                            <p class="small text-muted">
                                European and global investors seeking multi-market access. 
                                Ideal for sophisticated strategies across different exchanges.
                            </p>

                            <div class="mt-3">
                                <div class="d-flex justify-content-between">
                                    <span class="small">Setup Difficulty:</span>
                                    <span class="text-warning">Moderate</span>
                                </div>
                                <div class="d-flex justify-content-between">
                                    <span class="small">Account Minimum:</span>
                                    <span class="text-warning">$1,000</span>
                                </div>
                                <div class="d-flex justify-content-between">
                                    <span class="small">API Access:</span>
                                    <span class="text-info">Premium</span>
                                </div>
                            </div>
                        </div>
                        <div class="card-footer text-center">
                            <button class="btn btn-success btn-lg w-100" onclick="connectBroker('swissquote')">
                                <i class="fas fa-plug me-2"></i>Connect to Swissquote
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Connection Status -->
    <section class="py-4 bg-light">
        <div class="container">
            <div id="connection-status" class="connection-status status-demo">
                <i class="fas fa-graduation-cap fa-2x me-3"></i>
                <div>
                    <h5 class="mb-1">Educational Demo Mode</h5>
                    <p class="mb-0">Select a broker above to begin the connection simulation</p>
                </div>
            </div>
        </div>
    </section>

    <!-- API Demo Section -->
    <section class="py-5" id="api-demo" style="display: none;">
        <div class="container">
            <div class="api-demo">
                <h3 class="mb-4">
                    <i class="fas fa-code me-2"></i>API Connection Demo
                </h3>
                <div class="row">
                    <div class="col-md-6">
                        <h5>Connection Details:</h5>
                        <div id="api-details">
                            <!-- Will be populated by JavaScript -->
                        </div>
                    </div>
                    <div class="col-md-6">
                        <h5>Sample API Response:</h5>
                        <pre id="api-response" class="bg-dark text-light p-3 rounded">
{
  "status": "connecting...",
  "message": "Select a broker to see demo"
}
                        </pre>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Setup Instructions -->
    <section class="py-5" id="setup-instructions" style="display: none;">
        <div class="container">
            <h2 class="text-center mb-5">
                <i class="fas fa-cog me-2"></i>Setup Instructions
            </h2>
            <div class="setup-steps">
                <div id="setup-content">
                    <!-- Will be populated by JavaScript -->
                </div>
            </div>
        </div>
    </section>

    <!-- Comparison Table -->
    <section class="py-5">
        <div class="container">
            <h2 class="text-center mb-5">
                <i class="fas fa-balance-scale me-2"></i>Detailed Comparison
            </h2>
            <div class="comparison-table p-4">
                <div class="table-responsive">
                    <table class="table table-hover">
                        <thead class="table-primary">
                            <tr>
                                <th>Feature</th>
                                <th class="text-center">Alpaca Markets</th>
                                <th class="text-center">Swissquote</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Commission Structure</strong></td>
                                <td class="text-center">
                                    <i class="fas fa-check text-success"></i> Free
                                </td>
                                <td class="text-center">
                                    <i class="fas fa-dollar-sign text-warning"></i> Variable
                                </td>
                            </tr>
                            <tr>
                                <td><strong>Market Access</strong></td>
                                <td class="text-center">US Only</td>
                                <td class="text-center">
                                    <i class="fas fa-globe text-success"></i> Global
                                </td>
                            </tr>
                            <tr>
                                <td><strong>Fractional Shares</strong></td>
                                <td class="text-center">
                                    <i class="fas fa-check text-success"></i> Yes
                                </td>
                                <td class="text-center">
                                    <i class="fas fa-times text-danger"></i> No
                                </td>
                            </tr>
                            <tr>
                                <td><strong>Paper Trading</strong></td>
                                <td class="text-center">
                                    <i class="fas fa-check text-success"></i> Free
                                </td>
                                <td class="text-center">
                                    <i class="fas fa-check text-success"></i> Available
                                </td>
                            </tr>
                            <tr>
                                <td><strong>API Rate Limits</strong></td>
                                <td class="text-center">200/min</td>
                                <td class="text-center">Custom</td>
                            </tr>
                            <tr>
                                <td><strong>Real-time Data</strong></td>
                                <td class="text-center">
                                    <i class="fas fa-check text-success"></i> Included
                                </td>
                                <td class="text-center">
                                    <i class="fas fa-dollar-sign text-warning"></i> Premium
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </section>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        let selectedBroker = null;

        const brokerData = {
            alpaca: {
                name: "Alpaca Markets",
                apiUrl: "https://paper-api.alpaca.markets",
                features: ["Commission-free trading", "Paper trading", "Real-time data", "REST API"],
                setup: [
                    "Create free Alpaca account",
                    "Generate API keys in dashboard",
                    "Enable paper trading mode",
                    "Test connection with demo orders"
                ],
                regions: ["US", "Global"],
                difficulty: "Easy"
            },
            swissquote: {
                name: "Swissquote",
                apiUrl: "https://api.swissquote.com",
                features: ["Global markets", "Multi-currency", "Professional tools", "Swiss regulation"],
                setup: [
                    "Open Swissquote trading account",
                    "Complete KYC verification",
                    "Request API access",
                    "Configure demo environment"
                ],
                regions: ["EU", "Global"],
                difficulty: "Moderate"
            }
        };

        function selectBroker(broker) {
            // Remove previous selection
            document.querySelectorAll('.broker-card').forEach(card => {
                card.classList.remove('selected');
            });

            // Add selection to clicked card
            document.getElementById(broker + '-card').classList.add('selected');
            selectedBroker = broker;

            // Update connection status
            updateConnectionStatus(broker);
        }

        function connectBroker(broker) {
            selectBroker(broker);
            
            // Show API demo section
            document.getElementById('api-demo').style.display = 'block';
            document.getElementById('setup-instructions').style.display = 'block';
            
            // Simulate connection process
            simulateConnection(broker);
            
            // Show setup instructions
            showSetupInstructions(broker);
            
            // Scroll to demo section
            document.getElementById('api-demo').scrollIntoView({ behavior: 'smooth' });
        }

        function updateConnectionStatus(broker) {
            const statusDiv = document.getElementById('connection-status');
            const data = brokerData[broker];
            
            statusDiv.className = 'connection-status status-demo pulse';
            statusDiv.innerHTML = `
                <i class="fas fa-plug fa-2x me-3"></i>
                <div>
                    <h5 class="mb-1">Connecting to ${data.name}...</h5>
                    <p class="mb-0">Educational demo mode - No real money involved</p>
                </div>
            `;

            // Simulate successful connection after 2 seconds
            setTimeout(() => {
                statusDiv.className = 'connection-status status-connected';
                statusDiv.innerHTML = `
                    <i class="fas fa-check-circle fa-2x me-3"></i>
                    <div>
                        <h5 class="mb-1">Connected to ${data.name}</h5>
                        <p class="mb-0">Demo environment ready for educational trading</p>
                    </div>
                `;
            }, 2000);
        }

        function simulateConnection(broker) {
            const data = brokerData[broker];
            
            // Update API details
            document.getElementById('api-details').innerHTML = `
                <p><strong>Broker:</strong> ${data.name}</p>
                <p><strong>API Endpoint:</strong> ${data.apiUrl}</p>
                <p><strong>Mode:</strong> Educational Demo</p>
                <p><strong>Status:</strong> <span class="text-success">Connected</span></p>
            `;

            // Simulate API response
            const apiResponse = {
                broker: data.name,
                status: "connected",
                mode: "demo",
                account: {
                    buying_power: 100000,
                    portfolio_value: 100000,
                    positions: []
                },
                features: data.features
            };

            document.getElementById('api-response').textContent = JSON.stringify(apiResponse, null, 2);
        }

        function showSetupInstructions(broker) {
            const data = brokerData[broker];
            const setupContent = document.getElementById('setup-content');
            
            let stepsHtml = `<h4 class="mb-4">Setting up ${data.name}</h4>`;
            
            data.setup.forEach((step, index) => {
                stepsHtml += `
                    <div class="d-flex align-items-center mb-3">
                        <div class="step-number">${index + 1}</div>
                        <div>
                            <p class="mb-0">${step}</p>
                        </div>
                    </div>
                `;
            });

            stepsHtml += `
                <div class="mt-4 p-3 bg-info bg-opacity-10 rounded">
                    <h6 class="text-info">
                        <i class="fas fa-info-circle me-2"></i>Educational Note
                    </h6>
                    <p class="mb-0 small">
                        This is a demonstration of the setup process. In a real implementation, 
                        you would follow these steps to connect to the actual ${data.name} API.
                    </p>
                </div>
            `;

            setupContent.innerHTML = stepsHtml;
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            // Add hover effects and animations
            document.querySelectorAll('.broker-card').forEach(card => {
                card.addEventListener('mouseenter', function() {
                    if (!this.classList.contains('selected')) {
                        this.style.transform = 'translateY(-5px)';
                    }
                });
                
                card.addEventListener('mouseleave', function() {
                    if (!this.classList.contains('selected')) {
                        this.style.transform = 'translateY(0)';
                    }
                });
            });
        });
    </script>
</body>
</html>
